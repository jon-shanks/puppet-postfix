# Generated by puppet
# 
# 
#

<%- if @smtpd_banner -%>
smtpd_banner                         = <%= @smtpd_banner %>
<%- end -%>
<%- if @biff -%>
biff                                 = <%= @biff %>
<%- end -%>

<%- if @smtpd_tls -%>
  <%- @smtpd_tls.each do |sdk,sdv| -%>
<%= sdk %> = <%= sdv %>
  <%- end -%>
<%- end -%>


myhostname                           = <%= @fqdn %>

append_dot_mydomain                  = no

mail_owner                           = postfix

inet_interfaces                      = <%= @relay ? 'all' : 'localhost' %>

mydestination                        = $myhostname, localhost.$mydomain, localhost, localhost.local

alias_maps                           = hash:/etc/aliases
alias_database                       = hash:/etc/aliases
recipient_delimiter                  = +
newaliases_path                      = /usr/bin/newaliases.postfix
alias_database                       = hash:/etc/aliases

myorigin                             = $myhostname

<%- if @queue_life -%>
maximal_queue_lifetime               = <%= @queue_life %>
<%- end -%>

<%- if @relay -%>
  <%- if @smtp_tls and not @smtp_tls.empty? -%>
    <%- @smtp_tls.each do |sk, sv| -%>
<%= sk %> = <%= sv %>
    <%- end -%>
  <%- end -%>

mynetworks                           = <%= @mynetworks.join(' ') %>

<%- if @relay_domains -%>

relay_domains                        = <%= @relay_domains.join(', ') %>
<%- end -%>

<%- if @transport_maps -%>
transport_maps                       = hash:/etc/postfix/transport
  <%- end -%>

<%- if @local_recipient_maps -%>
local_recipient_maps                 = <%= @local_recipient_maps %>
<%- end -%>

<%- if @local_transport -%>
local_transport                      = <%= @local_transport %>
<%- end -%>
<%- else -%>

relayhost                            = <%= @relayhost %>
<%- end -%>
